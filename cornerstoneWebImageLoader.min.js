/*! cornerstoneWebImageLoader - v0.2.0 - 2014-05-04 | (c) 2014 Chris Hafey | https://github.com/chafey/cornerstoneWebImageLoader */
!function(a,b){"use strict";function c(a,b){function c(){for(var b=d(),c=b.data,e=a.naturalHeight*a.naturalWidth,f=new Uint8Array(4*e),g=0,h=0,i=0;e>i;i++)f[h++]=c[g++],f[h++]=c[g++],f[h++]=c[g++],f[h++]=255,g++;return f}function d(){var c;f!==b?(e.height=a.naturalHeight,e.width=a.naturalWidth,c=e.getContext("2d"),c.drawImage(a,0,0)):c=e.getContext("2d");var d=c.getImageData(0,0,a.naturalWidth,a.naturalHeight);return d}function g(){if(f===b)return e;e.height=a.naturalHeight,e.width=a.naturalWidth;var c=e.getContext("2d");return c.drawImage(a,0,0),f=b,e}function h(){return a}var i=a.naturalHeight,j=a.naturalWidth,k={imageId:b,minPixelValue:0,maxPixelValue:255,slope:1,intercept:0,windowCenter:127,windowWidth:256,getPixelData:c,getImageData:d,getCanvas:g,getImage:h,rows:i,columns:j,height:i,width:j,color:!0,columnPixelSpacing:1,rowPixelSpacing:1,invert:!1,sizeInBytes:i*j*4};return k}function d(b){var d=a.Deferred(),e=new Image;return e.crossOrigin="anonymous",e.onload=function(){var a=c(e,b);d.resolve(a)},e.onerror=function(){d.reject()},e.src=b,d}var e=document.createElement("canvas"),f="";return b.registerImageLoader("http",d),b.registerImageLoader("https",d),b}($,cornerstone);